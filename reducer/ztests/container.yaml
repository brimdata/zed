script: |
  zq -t "union(x)" in.tzng > union.tzng
  zq -t "collect(x)" in.tzng > collect.tzng

inputs:
  - name: in.tzng
    data: |
      #0:record[x:int32]
      0:[1;]
      0:[-1;]
      0:[2;]
      0:[1;]
      0:[8;]
      0:[1;]

outputs:
  - name: union.tzng
    data: |
      #0:record[union:set[int32]]
      0:[[1;-1;2;8;]]
  - name: collect.tzng
    data: |
      #0:record[collect:array[int32]]
      0:[[1;-1;2;1;8;1;]]
